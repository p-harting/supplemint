{% load static %}
<form method="POST" class="review-form" id="reviewForm" 
      {% if is_edit %}data-review-id="{{ review.id }}"{% else %}data-product-id="{{ product.id }}"{% endif %}>
    {% csrf_token %}
    
    <!-- Dynamic heading based on edit state -->
    <h3>{% if is_edit %}Edit Your Review{% else %}Write a Review{% endif %}</h3>
    
    {{ form.as_p }}  <!-- Render form fields -->
    
    <div class="form-buttons">
        <!-- Submit button text changes based on edit state -->
        <button type="submit" class="btn btn-primary">
            {% if is_edit %}Update Review{% else %}Submit Review{% endif %}
        </button>
        
        <!-- Cancel button to close the modal -->
        <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
    </div>
</form>

<!-- Include the external JavaScript file -->
<script src="{% static 'reviews/js/review_form.js' %}"></script>
